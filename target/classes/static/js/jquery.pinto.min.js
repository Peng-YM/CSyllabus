/*!
  jQuery Pinto v1.2.0
  Copyright (c) 2015 http://www.avirtum.com
*/
!function(a){"use strict";function b(a){this.init(a)}b.prototype={itemSelector:"> div",itemWidth:220,gapX:10,gapY:10,align:"left",fitWidth:!0,autoResize:!0,resizeDelay:50,onItemLayout:function(a,b,c){},constructor:b,el:null,resizeEvent:null,resizeTimer:null,init:function(b){this.clearWidget(),a.extend(this,b),this.initWidget(),this.layout()},clearWidget:function(){this.resizeEvent&&(this.resizeEvent.unbind(),this.resizeEvent=null),clearTimeout(this.resizeTimer)},initWidget:function(){0!=this.el.length&&("relative"!=this.el.css("position")&&this.el.css("position","relative"),this.autoResize&&(this.resizeEvent=a(window).on("resize",a.proxy(this.resize,this)),this.el.on("remove",this.resizeEvent.unbind)))},getSmallestIndex:function(a){for(var b=0,c=1,d=a.length;d>c;c++)a[c]<a[b]&&(b=c);return b},layout:function(){if(0!=this.el.length&&this.el.is(":visible")){for(var b=this,c=this.el.find(this.itemSelector),d=this.el.innerWidth(),e=this.itemWidth,f=parseInt(this.gapX||0),g=parseInt(this.gapY||0),h=0,i=0;d>h&&(h+=e,d>=h);)i++,h+=f;i=Math.max(i,1);for(var j=[],k=[],l=i;l--;)j.push(0),k.push(0);h=0;var m=(i-1)*f;this.fitWidth?e+=Math.floor(.5+(d-m-i*e)/i):"center"===this.align?h+=Math.floor(.5+(d-m-i*e)>>1):"right"===this.align&&(h+=Math.floor(.5+(d-m-i*e))),c.each(function(c,d){var i=a(d),l=b.getSmallestIndex(k);i.is(":visible")&&(i.css({position:"absolute",top:k[l]+"px",left:(e+f)*l+h+"px",width:e-(i.outerWidth()-i.width())}),k[l]+=i.outerHeight()+g,"function"==typeof b.onItemLayout&&b.onItemLayout.call(b,i,l,j[l]),j[l]++)});var n=0;for(l=i;l--;)k[l]>n&&(n=k[l]);this.el.css({height:n})}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(a.proxy(this.layout,this),this.resizeDelay)},destroy:function(){this.clearWidget(),this.el.removeData("pinto");var b=this.el.find(this.itemSelector);b.each(function(){var b=a(this);b.css({position:"",top:"",left:"",width:""})}),this.el.css({position:"",height:""})}},a.pinto={defaults:b.prototype},a.fn.pinto=function(c,d){var e="pinto",f=this.data(e);if("layout"==c){if(!f)throw Error("Calling 'layout' method on not initialized instance is forbidden");return f.layout()}if("destroy"==c){if(!f)throw Error("Calling 'destroy' method on not initialized instance is forbidden");return f.destroy()}return this.each(function(){var d=a(this),f=d.data(e),g=a.isPlainObject(c)?c:{};if(f)f.init(g);else{var h=a.extend({},d.data());g=a.extend(h,g),g.el=d,f=new b(g),d.data(e,f)}})}}(window.jQuery);